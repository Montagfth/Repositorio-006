<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Eventos - Pizza Factory</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <style>
        /* Carrusel full width */
        #carouselExampleIndicators {
          width: 100vw;
          margin-left: calc(-50vw + 50%);
          max-height: 400px;
          overflow: hidden;
          position: relative;
          z-index: 1;
        }
        #carouselExampleIndicators .carousel-item img {
          width: 100vw;
          height: 400px;
          object-fit: cover;
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
        }
        /* Flechas estilo */
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
          filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.18));
          background-color: rgba(255, 255, 255, 0.76);
          border-radius: 50%;
          padding: 16px;
        }
        /* Modalidades apiladas verticalmente */
        .modalidades-stack {
          max-width: 900px;
          margin: 30px auto;
          display: flex;
          flex-direction: column;
          gap: 20px;
          padding: 0 15px;
        }
        .modalidades-stack .card {
          display: flex;
          flex-direction: row;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 2px 14px rgba(0, 0, 0, 0.08);
          min-height: 180px;
          background: #fff;
        }
        .modalidades-stack .card-img-top {
          width: 240px;
          height: 180px;
          object-fit: cover;
          flex-shrink: 0;
          border-radius: 12px 0 0 12px;
        }
        .modalidades-stack .card-body {
          padding: 18px 25px;
          display: flex;
          flex-direction: column;
          justify-content: center;
          text-align: left;
        }
        /* Responsive: en pantallas pequeñas se apilarán */
        @media (max-width: 768px) {
          #carouselExampleIndicators,
          #carouselExampleIndicators .carousel-item img {
            height: 250px;
            width: 100vw;
          }
          .modalidades-stack .card {
            flex-direction: column;
            min-height: auto;
            border-radius: 12px;
          }
          .modalidades-stack .card-img-top {
            width: 100%;
            height: 180px;
            border-radius: 12px 12px 0 0;
          }
        }
    </style>
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Pizza Factory</a>
            <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="/">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="/eventos">Eventos</a></li>
                    <li class="nav-item"><a class="nav-link" href="/locales">Locales</a></li>
                    <li class="nav-item"><a class="nav-link" href="/pedidos">Pedidos</a></li>
                    <li class="nav-item"><a class="nav-link" href="/contactanos">Contáctanos</a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<!-- Carrusel full width -->
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="/img/pizza1.jpg" alt="Pizza 1" />
        </div>
        <div class="carousel-item">
            <img src="/img/pizza3.jpg" alt="Pizza 2" />
        </div>
        <div class="carousel-item">
            <img src="/img/pizza2.jpg" alt="Pizza 3" />
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev" aria-label="Anterior">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next" aria-label="Siguiente">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
    </button>
</div>

<main class="flex-grow-1 mb-5">
    <div class="container text-center my-5">
        <h2 class="display-4 fw-bold">¡Celebra con nosotros!</h2>
        <h3 class="display-6 text-muted">Servicio de primera siempre a tu lado</h3>
        <p class="lead">En Pizza Factory nos encanta ser parte de tus momentos especiales...</p>
        <a href="https://wa.me/+51978954102" class="btn btn-success btn-lg" target="_blank" rel="noopener">Solicita tu Evento</a>
    </div>

    <!-- Modalidades verticales apiladas -->
    <div class="modalidades-stack">
        <div class="card shadow-sm">
            <img src="/img/carru3.jpg" class="card-img-top" alt="All You Can Eat" />
            <div class="card-body">
                <h5 class="card-title fw-bold">
                    All you can eat
                    <i
                            class="bi bi-info-circle ms-2"
                            tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="hover focus"
                            data-bs-placement="top"
                            title="¿Sabías qué?"
                            data-bs-content="Incluye decoración y atención completa para despreocuparte."
                    ></i>
                </h5>
                <p class="card-text">
                    Nos encargamos de todo, desde el horno hasta la decoración. Nuestra modalidad más recomendada para un evento completo sin preocupaciones.
                </p>
                <p class="text-muted">
                    Monto mínimo del evento: <strong>S/. 800</strong>
                </p>
            </div>
        </div>
        <div class="card shadow-sm">
            <img src="/img/carru2.jpg" class="card-img-top" alt="Open pizza party" />
            <div class="card-body">
                <h5 class="card-title fw-bold">
                    Open pizza party
                    <i
                            class="bi bi-info-circle ms-2"
                            tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="hover focus"
                            data-bs-placement="top"
                            title="Ideal para grupos grandes"
                            data-bs-content="Esta opción permite elegir entre más de 10 variedades de pizza."
                    ></i>
                </h5>
                <p class="card-text">
                    Transformamos tu espacio para crear el ambiente ideal. Perfecto para eventos grandes con diversas opciones de comida.
                </p>
                <p class="text-muted">
                    Monto mínimo del evento: <strong>S/. 1000</strong>
                </p>
            </div>
        </div>
        <div class="card shadow-sm">
            <img src="/img/carru0.jpg" class="card-img-top" alt="Express" />
            <div class="card-body">
                <h5 class="card-title fw-bold">
                    Express
                    <i
                            class="bi bi-info-circle ms-2"
                            tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="hover focus"
                            data-bs-placement="top"
                            title="Rápido y económico"
                            data-bs-content="Recomendado para cumpleaños en casa o eventos cortos."
                    ></i>
                </h5>
                <p class="card-text">
                    Llevamos las pizzas listas para hornear. Incluye horno eléctrico portátil y mesa. Ideal para eventos pequeños.
                </p>
                <p class="text-muted">
                    Monto mínimo del evento: <strong>S/. 490</strong>
                </p>
            </div>
        </div>
        <div class="card shadow-sm">
            <img src="/img/carru4.jpg" class="card-img-top" alt="Listas para hornear" />
            <div class="card-body">
                <h5 class="card-title fw-bold">
                    Listas para hornear
                    <i
                            class="bi bi-info-circle ms-2"
                            tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="hover focus"
                            data-bs-placement="top"
                            title="Congélalas hasta 30 días"
                            data-bs-content="Las pizzas vienen precocidas para guardar o usar cuando gustes."
                    ></i>
                </h5>
                <p class="card-text">
                    Listas para hornear. Las preparamos el mismo día del evento y puedes congelarlas por un mes.
                </p>
                <p class="text-muted">
                    Monto mínimo del evento: <strong>S/. 180</strong>
                </p>
            </div>
        </div>
    </div>

    <!-- Al final de las modalidades, antes del cierre de </main> -->

    <div class="container mb-5">
        <h2 class="text-center mb-4 fw-bold" style="position: relative; display: inline-block; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
            Registra tu evento!
            <span style="
      position: absolute;
      bottom: -6px;
      left: 0;
      width: 70%;
      height: 4px;
      background: #198754;
      border-radius: 2px;
      box-shadow: 0 0 8px #198754;
    "></span>
        </h2>
        <form th:action="@{/eventos/guardar}" th:object="${evento}" method="post" class="needs-validation p-4 rounded shadow bg-white" novalidate>

            <div class="row g-3">

                <div class="col-md-6">
                    <label for="nombre" class="form-label fw-semibold">Nombres y Apellidos</label>
                    <div class="input-group">
                        <span class="input-group-text bg-success text-white"><i class="bi bi-person-fill"></i></span>
                        <input type="text" class="form-control" id="nombre" th:field="*{nombre}" placeholder="Juan Pérez" required>
                        <div class="invalid-feedback">Por favor, ingresa tu nombre completo.</div>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="telefono" class="form-label fw-semibold">Número de teléfono</label>
                    <div class="input-group">
                        <span class="input-group-text bg-success text-white"><i class="bi bi-telephone-fill"></i></span>
                        <input type="tel" class="form-control" id="telefono" th:field="*{telefono}" placeholder="999999999" pattern="^\d{9}$" required>
                        <div class="invalid-feedback">Debe tener 9 dígitos (sin espacios ni guiones).</div>
                    </div>
                </div>

                <div class="col-md-4">
                    <label for="distrito" class="form-label fw-semibold">Distrito</label>
                    <select id="distrito" th:field="*{distrito}" class="form-select" required>
                        <option value="" disabled selected>Selecciona un distrito</option>
                        <option value="San Isidro">San Isidro</option>
                        <option value="Miraflores">Miraflores</option>
                        <option value="La Molina">La Molina</option>
                    </select>
                    <div class="invalid-feedback">Seleccione un distrito.</div>
                </div>

                <div class="col-md-4">
                    <label for="modalidad" class="form-label fw-semibold">Modalidad</label>
                    <select id="modalidad" th:field="*{modalidad}" class="form-select" required>
                        <option value="" disabled selected>Selecciona una modalidad</option>
                        <option value="All you can eat">All you can eat</option>
                        <option value="Open pizza party">Open pizza party</option>
                        <option value="Express">Express</option>
                    </select>
                    <div class="invalid-feedback">Seleccione una modalidad.</div>
                </div>

                <div class="col-md-4">
                    <label for="fecha" class="form-label fw-semibold">Fecha del evento</label>
                    <input type="date" class="form-control" id="fecha" th:field="*{fecha}" required>
                    <div class="invalid-feedback">Seleccione una fecha válida.</div>
                </div>

                <div class="col-12">
                    <label for="descripcion" class="form-label fw-semibold">Comentarios u observaciones</label>
                    <textarea id="descripcion" class="form-control" th:field="*{descripcion}" rows="4" placeholder="Escribe aquí..."></textarea>
                </div>

                <div class="col-12 text-center mt-4">
                    <button type="submit" class="btn btn-success btn-lg px-5 shadow-sm"
                            style="font-weight: 600; letter-spacing: 0.04em; transition: background-color 0.3s;">
                        Enviar reserva
                    </button>
                </div>

            </div>
        </form>
    </div>
    <script>
        (() => {
          'use strict';
          const forms = document.querySelectorAll('.needs-validation');
          Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
              if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add('was-validated');
            });
          });
        })();
    </script>


</main>

<footer class="bg-primary text-white py-4 mt-auto">
    <div class="container text-center">
        <div class="row">
            <div class="col-md-4 mb-3">
                <h5><i class="bi bi-envelope-fill me-2"></i>Contacto</h5>
                <p><i class="bi bi-envelope"></i> pizza@factory.com</p>
                <p><i class="bi bi-telephone-fill"></i> +51 999 999 999</p>
            </div>
            <div class="col-md-4 mb-3">
                <h5><i class="bi bi-share-fill me-2"></i>Redes Sociales</h5>
                <a href="#" class="text-white me-3"><i class="bi bi-facebook"></i> Facebook</a><br />
                <a href="#" class="text-white me-3"><i class="bi bi-twitter"></i> Twitter</a><br />
                <a href="#" class="text-white"><i class="bi bi-instagram"></i> Instagram</a>
            </div>
            <div class="col-md-4 mb-3">
                <h5><i class="bi bi-geo-alt-fill me-2"></i>Ubícanos</h5>
                <p>Av. Comandante Espinar 266</p>
                <p>Miraflores, Lima - Perú</p>
            </div>
        </div>
        <p class="mb-1">&copy; 2025 Todos los derechos reservados</p>
        <p class="mb-0">RUC: 206016442X6 | Pizza Factory S.A.C.</p>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      const popoverTriggerList = Array.from(document.querySelectorAll('[data-bs-toggle="popover"]'));
      popoverTriggerList.forEach(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl));
    });
</script>
</body>
</html>
